/* ========== CYBER BLOODBATH THEME - VISUAL ORGASM EFFECTS ========== */

/* Enhanced glow effects for Cyber Bloodbath */
[data-glow="true"] .waveform,
[data-glow="true"] .np-track-title,
[data-glow="true"] .player-controls button {
  filter: drop-shadow(var(--glow));
}

/* Blood drip animation for titles */
@keyframes blood-drip {
  0%, 100% { 
    transform: translateY(0) scale(1); 
    filter: brightness(1);
  }
  25% { 
    transform: translateY(2px) scale(1.01); 
    filter: brightness(1.2);
  }
  50% { 
    transform: translateY(4px) scale(1.02); 
    filter: brightness(1.4) saturate(1.3);
  }
  75% { 
    transform: translateY(2px) scale(1.01); 
    filter: brightness(1.2);
  }
}

/* Aggressive screen shake on super peaks */
@keyframes cyber-bloodbath-shake {
  0%, 100% { transform: translate3d(0, 0, 0) scale(1); }
  10% { transform: translate3d(-2px, -1px, 0) scale(1.005); }
  20% { transform: translate3d(3px, 2px, 0) scale(1.01); }
  30% { transform: translate3d(-4px, 1px, 0) scale(1.008); }
  40% { transform: translate3d(4px, -2px, 0) scale(1.012); }
  50% { transform: translate3d(-3px, 3px, 0) scale(1.015); }
  60% { transform: translate3d(5px, -1px, 0) scale(1.01); }
  70% { transform: translate3d(-2px, -3px, 0) scale(1.005); }
  80% { transform: translate3d(2px, 2px, 0) scale(1.008); }
  90% { transform: translate3d(-1px, 1px, 0) scale(1.003); }
}

/* Chromatic aberration effect */
@keyframes chromatic-aberration {
  0% { 
    text-shadow: 2px 0 #ff0066, -2px 0 #00ff66;
    filter: hue-rotate(0deg);
  }
  33% { 
    text-shadow: -1px 0 #ff0066, 3px 0 #00ff66, 0 2px #6600ff;
    filter: hue-rotate(120deg);
  }
  66% { 
    text-shadow: 3px 0 #ff0066, 0 -2px #00ff66, -2px 0 #6600ff;
    filter: hue-rotate(240deg);
  }
  100% { 
    text-shadow: 2px 0 #ff0066, -2px 0 #00ff66;
    filter: hue-rotate(360deg);
  }
}

/* Blood vignette overlay */
@keyframes blood-vignette {
  0% { 
    box-shadow: inset 0 0 0 rgba(255, 0, 102, 0);
  }
  50% { 
    box-shadow: inset 0 0 200px 50px rgba(255, 0, 102, 0.3);
  }
  100% { 
    box-shadow: inset 0 0 0 rgba(255, 0, 102, 0);
  }
}

/* Blood streak effects on screen edges */
html[data-glow="true"]::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    /* Top blood streaks */
    linear-gradient(180deg, 
      rgba(255, 0, 102, 0.3) 0px,
      rgba(255, 0, 102, 0.1) 20px,
      transparent 40px
    ),
    /* Left blood streak */
    linear-gradient(90deg,
      rgba(255, 0, 102, 0.2) 0px,
      rgba(255, 0, 102, 0.05) 15px,
      transparent 30px
    ),
    /* Random blood drips */
    radial-gradient(ellipse 2px 30px at 15% 0%, rgba(255, 0, 102, 0.4) 0%, transparent 100%),
    radial-gradient(ellipse 1px 25px at 35% 0%, rgba(255, 0, 102, 0.3) 0%, transparent 100%),
    radial-gradient(ellipse 3px 40px at 65% 0%, rgba(255, 0, 102, 0.4) 0%, transparent 100%),
    radial-gradient(ellipse 1px 20px at 85% 0%, rgba(255, 0, 102, 0.3) 0%, transparent 100%);
  pointer-events: none;
  z-index: 1000;
  opacity: 0.8;
}

/* Pulse intensification for beats */
@keyframes blood-pulse-intense {
  0% { 
    transform: scale(1) rotate(0deg);
    filter: brightness(1) contrast(1) saturate(1);
  }
  50% { 
    transform: scale(1.08) rotate(1deg);
    filter: brightness(1.6) contrast(1.4) saturate(1.8);
  }
  100% { 
    transform: scale(1) rotate(0deg);
    filter: brightness(1) contrast(1) saturate(1);
  }
}

/* Apply effects to specific elements based on theme */
html[data-glow="true"] .np-track-title {
  animation: blood-drip 3s infinite ease-in-out;
}

html[data-glow="true"] .waveform-container {
  transition: all 0.3s ease;
}

html[data-glow="true"] .waveform-container.beat-pulse {
  animation: blood-pulse-intense 0.4s ease-out;
}

/* Screen shake trigger class */
html[data-glow="true"] .app-container.super-peak {
  animation: cyber-bloodbath-shake 0.6s cubic-bezier(.36,.07,.19,.97);
}

html[data-glow="true"] .app-container.super-peak::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 0, 102, 0.1);
  animation: blood-vignette 0.6s ease-out;
  pointer-events: none;
  z-index: 9999;
}

/* Chromatic aberration for text on intense beats */
html[data-glow="true"] .np-track-title.chromatic {
  animation: chromatic-aberration 0.8s ease-in-out;
}

/* Enhanced button glow effects */
html[data-glow="true"] .player-controls button {
  position: relative;
  overflow: hidden;
}

html[data-glow="true"] .player-controls button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: radial-gradient(circle, rgba(255,0,102,0.6) 0%, transparent 70%);
  transition: all 0.3s ease;
  transform: translate(-50%, -50%);
  z-index: -1;
}

html[data-glow="true"] .player-controls button:hover::before {
  width: 200%;
  height: 200%;
}

/* Waveform blood effect */
html[data-glow="true"] .waveform-bar {
  position: relative;
  overflow: visible;
}

html[data-glow="true"] .waveform-bar::after {
  content: '';
  position: absolute;
  top: -2px;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, transparent, var(--accent-primary), transparent);
  opacity: 0;
  transition: opacity 0.2s ease;
}

html[data-glow="true"] .waveform-bar.active::after {
  opacity: 1;
  animation: blood-drip 0.5s ease-out;
}

/* Scanlines effect enhancement */
html[data-scanlines="true"]::before {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 0, 102, 0.03) 2px,
    rgba(255, 0, 102, 0.03) 4px
  );
  animation: scanline-flicker 0.1s infinite linear;
}

@keyframes scanline-flicker {
  0% { opacity: 0.5; }
  50% { opacity: 0.8; }
  100% { opacity: 0.5; }
}

/* Volume control blood effect */
html[data-glow="true"] .volume-slider {
  background: linear-gradient(90deg, 
    var(--bg-primary) 0%, 
    var(--accent-primary) var(--volume-percent, 50%), 
    var(--bg-primary) var(--volume-percent, 50%)
  );
  box-shadow: 0 0 20px rgba(255, 0, 102, 0.5);
}

/* Beat detection blood explosion */
@keyframes blood-explosion {
  0% { 
    transform: scale(1);
    filter: brightness(1);
  }
  30% { 
    transform: scale(1.2);
    filter: brightness(2.5) saturate(2);
  }
  60% { 
    transform: scale(0.95);
    filter: brightness(1.8) saturate(1.5);
  }
  100% { 
    transform: scale(1);
    filter: brightness(1);
  }
}

html[data-glow="true"] .beat-explosion {
  animation: blood-explosion 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Track list hover blood effect */
html[data-glow="true"] .track-item:hover {
  background: linear-gradient(90deg, 
    rgba(255, 0, 102, 0.1) 0%, 
    rgba(255, 0, 102, 0.2) 50%, 
    rgba(255, 0, 102, 0.1) 100%
  );
  box-shadow: 
    inset 0 1px 0 rgba(255, 0, 102, 0.5),
    inset 0 -1px 0 rgba(255, 0, 102, 0.5),
    0 0 20px rgba(255, 0, 102, 0.3);
  transform: translateX(2px);
}

/* Progress bar blood trail */
html[data-glow="true"] .progress-bar {
  position: relative;
  overflow: visible;
}

html[data-glow="true"] .progress-bar::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: var(--progress-percent, 0%);
  background: linear-gradient(90deg, 
    transparent,
    rgba(255, 0, 102, 0.6),
    rgba(255, 0, 102, 0.8),
    rgba(255, 0, 102, 0.6),
    transparent
  );
  filter: blur(1px);
  transform: translateX(-20px);
}