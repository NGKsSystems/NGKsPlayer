@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===============================================
   CRITICAL FIX: ROOT ELEMENT SIZING & VISIBILITY
   =============================================== */

html,
body {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    overflow: hidden;
}

#root {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* ===============================================
   GLOBAL FOUNDATION STYLES
   =============================================== */

/* Dark Theme Foundation */
:root {
    color-scheme: dark;
    --primary-bg: #1a1a1a;           /* Main background - ADJUST: Change base color */
    --secondary-bg: #2a2a2a;         /* Widget backgrounds - ADJUST: Widget base color */
    --accent-color: #ff6b35;         /* Primary accent - ADJUST: Main brand color */
    --text-primary: #ffffff;         /* Primary text - ADJUST: Main text color */
    --text-secondary: #cccccc;       /* Secondary text - ADJUST: Dim text color */
    --border-color: #444444;         /* Default borders - ADJUST: Border visibility */
    --success-color: #4ade80;        /* Success/green - ADJUST: Success feedback color */
    --warning-color: #f59e0b;        /* Warning/yellow - ADJUST: Warning feedback color */
    --error-color: #ef4444;          /* Error/red - ADJUST: Error feedback color */
}

body {
    @apply bg-brand text-white/90;
    background: var(--primary-bg);   /* ADJUST: Overall app background */
    color: var(--text-primary);      /* ADJUST: Default text color */
    font-family: 'Arial', sans-serif; /* ADJUST: Change to preferred font */
}

/* ===============================================
   ERROR BOUNDARY STYLING (Previously Missing!)
   =============================================== */

.error-boundary {
    background: var(--secondary-bg);
    color: var(--text-primary);
    padding: 24px;
    border-radius: 12px;
    border: 2px solid var(--error-color);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
    max-width: 600px;
    margin: 40px auto;
}

.error-boundary h2 {
    color: var(--error-color);
    margin-top: 0;
    font-size: 20px;
}

.error-boundary details {
    background: rgba(0, 0, 0, 0.3);
    padding: 12px;
    border-radius: 6px;
    margin: 12px 0;
    border-left: 3px solid var(--error-color);
}

.error-boundary details summary {
    cursor: pointer;
    color: var(--accent-color);
    font-weight: bold;
}

.error-boundary button {
    background: var(--accent-color);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 12px;
    transition: all 0.2s ease;
}

.error-boundary button:hover {
    background: var(--accent-color);
    opacity: 0.8;
    transform: translateY(-2px);
}

/* Custom Utilities */
@layer utilities {
    .bg-soft {
        @apply bg-black/30;
    }
    
    .btn {
        @apply px-3 py-2 rounded-xl border border-white/20 transition;
        /* ADJUST: Button padding, border radius, and border style */
    }
    
    .btn-primary {
        @apply btn bg-brand/80 border-brand-accent hover:bg-brand;
        /* ADJUST: Primary button colors and hover effects */
    }
    
    .card {
        @apply bg-soft rounded-2xl p-4 border border-white/20;
        /* ADJUST: Card styling - padding, border radius, border color */
    }
}

/* ===============================================
   SHARED WIDGET SYSTEM (A/B MIRRORING BASE)
   =============================================== */

/* Universal Widget Container - Base for ALL widgets */
.draggable-widget {
    position: absolute;
    background: var(--secondary-bg);     /* ADJUST: Widget background color */
    border: 2px solid var(--border-color); /* ADJUST: Widget border width/color */
    border-radius: 12px;                 /* ADJUST: Widget corner roundness */
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.6),   /* ADJUST: Shadow depth and blur */
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.5);
    color: var(--text-primary);
    font-size: 14px;                     /* ADJUST: Base widget font size */
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* ADJUST: Animation speed/easing */
}

/* Widget Header - Universal for all widgets */
.widget-header {
    background: linear-gradient(90deg, #333 0%, var(--secondary-bg) 50%, #333 100%);
    border-bottom: 1px solid var(--border-color); /* ADJUST: Header separator line */
    padding: 8px 16px;                   /* ADJUST: Header padding */
    border-radius: 10px 10px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    min-height: 40px;                    /* ADJUST: Header height */
}

.widget-title {
    font-size: 16px;                     /* ADJUST: Widget title font size */
    font-weight: bold;                   /* ADJUST: Widget title font weight */
    color: var(--accent-color);          /* ADJUST: Widget title color */
    margin: 0;
    text-transform: uppercase;           /* ADJUST: Remove to disable uppercase titles */
    letter-spacing: 1px;                 /* ADJUST: Title letter spacing */
}

.widget-controls {
    display: flex;
    gap: 4px;                           /* ADJUST: Space between control buttons */
    align-items: center;
}

.widget-btn {
    width: 28px;                        /* ADJUST: Control button size */
    height: 28px;
    border: 1px solid var(--border-color);
    border-radius: 6px;                 /* ADJUST: Button corner roundness */
    background: rgba(255, 255, 255, 0.1);
    color: var(--text-secondary);
    font-size: 12px;                    /* ADJUST: Button icon/text size */
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.widget-btn:hover {
    background: var(--accent-color);
    color: white;
    transform: scale(1.1);              /* ADJUST: Hover scale effect */
}

.widget-content {
    padding: 16px;                      /* ADJUST: Internal widget padding */
    height: calc(100% - 40px);
    overflow: auto;
    background: rgba(0, 0, 0, 0.2);     /* ADJUST: Content area background */
}

.widget-resize-handle {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 20px;                        /* ADJUST: Resize handle size */
    height: 20px;
    background: var(--accent-color);
    cursor: nw-resize;
    opacity: 0.3;
    transition: opacity 0.2s ease;
    clip-path: polygon(100% 0%, 0% 100%, 100% 100%); /* Triangle shape */
}

.widget-resize-handle:hover {
    opacity: 1;
    background: var(--success-color);   /* ADJUST: Resize handle hover color */
}

/* Widget States */
.draggable-widget.minimized .widget-content,
.draggable-widget.minimized .widget-resize-handle {
    display: none;
}

.draggable-widget.locked .widget-header {
    background: linear-gradient(90deg, #444 0%, #333 50%, #444 100%);
    border-color: var(--warning-color); /* ADJUST: Locked widget border color */
}

/* ===============================================
   DECK WIDGETS A/B (SHARED STYLING)
   =============================================== */

/* Deck Containers - Both A and B use these styles */
[data-widget-id="deckA"],
[data-widget-id="deckB"] {
    border-left: 4px solid var(--accent-color); /* ADJUST: Deck accent border width/color */
    min-width: 300px;                   /* ADJUST: Minimum deck width */
    min-height: 350px;                  /* ADJUST: Minimum deck height */
}

/* Deck Content Area */
.deck-content {
    position: relative;
    height: 100%;
    overflow: visible;
    z-index: 1;
}

/* Deck Sub-widgets (Transport, Jog, VU, etc.) */
.deck-sub-widget {
    border: 1px solid rgba(255, 255, 255, 0.1); /* ADJUST: Sub-widget border visibility */
    border-radius: 8px;                 /* ADJUST: Sub-widget corner roundness */
    background: rgba(0, 0, 0, 0.3);     /* ADJUST: Sub-widget background opacity */
}

.deck-sub-widget .widget-header {
    padding: 6px 12px;                  /* ADJUST: Sub-widget header padding */
    font-size: 12px;                    /* ADJUST: Sub-widget title font size */
    background: rgba(255, 255, 255, 0.05);
}

.deck-sub-widget .widget-content {
    padding: 12px;                      /* ADJUST: Sub-widget content padding */
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════════════════
   MUSIC PLAYER TRANSPORT CONTROLS (SHARED ACROSS ALL VIEWS)
   ═══════════════════════════════════════════════════════════════════════════════════════════════════════════
   
   These styles control the core music playback interface elements that appear
   in multiple player views. This includes:
   
   - Track information display (song title, artist, album)
   - Play/pause/next/previous buttons
   - Progress bar and time display
   - Volume controls
   - Track position scrubbing
   
   Used by: Simple Player, DJ Views, Now Playing displays
 ═══════════════════════════════════════════════════════════════════════════════════════════════════════════ */

/* MAIN TRANSPORT CONTROL CONTAINER - Houses all playback controls in vertical layout */
/* Controls: Overall layout direction, spacing between control groups */
.transport-control {
    display: flex;                     /* Use flexbox for control layout */
    flex-direction: column;            /* Stack controls vertically */
    gap: 8px;                         /* Space between control groups (track info, buttons, progress) */
    color: var(--text-primary);       /* Text color for all controls */
}

/* TRACK INFORMATION DISPLAY - Shows current song details */
/* Controls: Background, padding, borders for the song info card */
.track-info {
    background: rgba(0, 0, 0, 0.4);     /* Semi-transparent dark background */
    padding: 12px;                      /* Inner spacing around text content */
    border-radius: 6px;                 /* Rounded corners for modern card look */
    border: 1px solid var(--border-color); /* Subtle border for definition */
    margin-bottom: 8px;                 /* Space below track info card */
}

/* SONG TITLE STYLING - Main track name display */
/* Controls: Font size, weight, color, spacing for track title */
.track-title {
    font-size: 16px;                    /* Larger text for song title prominence */
    font-weight: bold;                  /* Bold weight for emphasis */
    color: var(--text-primary);         /* Primary text color for readability */
    margin-bottom: 4px;                 /* Small space below title */
}

/* ARTIST NAME STYLING - Shows who performed the track */
/* Controls: Font size, color (dimmer than title), spacing */
.track-artist {
    font-size: 14px;                    /* Smaller than title but still readable */
    color: var(--text-secondary);       /* Dimmer color for secondary information */
    margin-bottom: 4px;                 /* Space below artist name */
}

/* TRACK TIME DISPLAY - Shows current position and total duration (e.g., "2:34 / 4:12") */
/* Controls: Font, size, color, background for the time counter */
.track-time {
    font-family: 'Courier New', monospace; /* Monospace font for aligned numbers */
    font-size: 18px;                    /* Large enough to read at a glance */
    color: var(--success-color);        /* Success color (usually green) for visibility */
    text-align: center;                 /* Center the time display */
    background: rgba(0, 0, 0, 0.5);     /* Dark background for contrast */
    padding: 4px 8px;                   /* Compact padding around numbers */
    border-radius: 4px;                 /* Slight rounding for modern look */
}

/* TRANSPORT BUTTON CONTAINER - Houses play/pause/next/prev buttons */
/* Controls: Layout, alignment, spacing of playback control buttons */
.transport-buttons {
    display: flex;                      /* Horizontal layout for buttons */
    justify-content: center;            /* Center buttons in available space */
    gap: 8px;                          /* Space between individual buttons */
    margin-top: 8px;                   /* Space above button row */
}

/* INDIVIDUAL TRANSPORT BUTTONS - Play, pause, next, previous buttons */
/* Controls: Size, shape, colors, hover effects for playback buttons */
.transport-btn {
    width: 40px;                        /* Square button size for touch-friendly targets */
    height: 40px;                       /* Square button size for touch-friendly targets */
    border: 2px solid var(--border-color); /* Border for button definition */
    border-radius: 50%;                 /* Circular buttons for modern music player look */
    background: var(--secondary-bg);    /* Secondary background color */
    color: var(--text-primary);         /* Text/icon color */
    font-size: 16px;                    /* Icon size within button */
    cursor: pointer;                    /* Hand cursor to indicate clickability */
    transition: all 0.2s ease;          /* Smooth animation for hover effects */
    display: flex;                      /* Flex for perfect icon centering */
    align-items: center;                /* Vertically center icon/text */
    justify-content: center;            /* Horizontally center icon/text */
}

/* TRANSPORT BUTTON HOVER EFFECT - Visual feedback when hovering over buttons */
.transport-btn:hover {
    background: var(--accent-color);    /* Accent color background on hover */
    border-color: var(--accent-color);  /* Matching border color on hover */
    transform: scale(1.1);             /* Slight size increase for feedback */
}

/* ACTIVE TRANSPORT BUTTON - Currently pressed or active button state */
.transport-btn.active {
    background: var(--success-color);   /* Success color (green) for active state */
    border-color: var(--success-color); /* Matching border for active state */
    color: white;                       /* White text/icon for contrast */
}

/* Jog Wheel - Shared A/B styling */
.jog-wheel-control {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.jog-wheel {
    width: 80px;                        /* ADJUST: Jog wheel size */
    height: 80px;
    border: 3px solid var(--border-color);
    border-radius: 50%;
    background: radial-gradient(circle, var(--secondary-bg) 0%, #1a1a1a 100%);
    cursor: pointer;
    transition: all 0.2s ease;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.jog-wheel:hover {
    border-color: var(--accent-color);
    transform: scale(1.05);             /* ADJUST: Jog wheel hover scale */
}

.jog-wheel-indicator {
    width: 4px;                         /* ADJUST: Jog wheel indicator line width */
    height: 30px;                       /* ADJUST: Jog wheel indicator line length */
    background: var(--accent-color);
    border-radius: 2px;
    position: absolute;
    top: 10px;
}

/* ═══════════════════════════════════════════════════════════════════════════════════════════════════════════
   AUDIO VISUALIZATION COMPONENTS
   ═══════════════════════════════════════════════════════════════════════════════════════════════════════════
   
   Visual components that show real-time audio information:
   
   - VU Meters: Show audio levels (volume) for left and right channels
   - Waveform Display: Visual representation of the audio signal
   - Progress Indicator: Shows playback position within the waveform
   - Beat Detection: Visual feedback for rhythm and tempo
   
   These provide visual feedback to help users understand the audio content
   and make mixing/timing decisions.
 ═══════════════════════════════════════════════════════════════════════════════════════════════════════════ */

/* VU METER & WAVEFORM CONTAINER - Main wrapper for audio visualization */
/* Controls: Layout direction, spacing, and overall container sizing */
.vu-waveform-container {
    display: flex;              /* Flexible layout for visualization components */
    flex-direction: column;     /* Stack VU meters above waveform */
    gap: 8px;                  /* Space between VU meters and waveform */
    height: 100%;              /* Take full available height */
}

/* VU METER CONTAINER - Houses left and right audio level meters */
/* Controls: Horizontal layout, spacing, and height of the meter section */
.vu-meters {
    display: flex;              /* Side-by-side layout for L/R channels */
    gap: 8px;                  /* Space between left and right VU meters */
    height: 60px;              /* Fixed height for consistent meter size */
}

/* INDIVIDUAL VU METER - Shows audio level for one channel (L or R) */
/* Controls: Shape, background, border, and positioning for each meter */
.vu-meter {
    flex: 1;                           /* Equal width for left and right meters */
    background: #000;                  /* Black background for meter base */
    border-radius: 4px;                /* Rounded corners for modern appearance */
    position: relative;                /* Allows absolute positioning of fill bar */
    overflow: hidden;                  /* Clips fill animation within meter bounds */
    border: 1px solid var(--border-color); /* Subtle border for definition */
}

/* VU METER FILL BAR - The colored bar that rises/falls with audio level */
/* Controls: Color gradient (green->yellow->red), animation, positioning */
.vu-meter .vu-fill {
    position: absolute;                 /* Positioned relative to meter container */
    bottom: 0;                         /* Fill starts from bottom of meter */
    width: 100%;                       /* Full width of meter */
    /* LEVEL-BASED COLOR GRADIENT: Green (safe) -> Yellow (caution) -> Red (danger) */
    background: linear-gradient(to top, 
        var(--success-color) 0%,         /* Green zone: Safe audio levels */
        var(--warning-color) 70%,        /* Yellow zone: Getting loud */
        var(--error-color) 90%);         /* Red zone: Dangerous/clipping levels */
    transition: height 0.1s ease;       /* Smooth animation as levels change */
    border-radius: 2px 2px 0 0;         /* Rounded top corners only */
}

/* MAIN WAVEFORM DISPLAY - Visual representation of the audio signal */
/* Controls: Container size, background, borders for the waveform area */
.waveform-display {
    flex: 1;                           /* Takes remaining space after VU meters */
    background: #000;                  /* Black background for waveform contrast */
    border-radius: 4px;                /* Rounded corners for consistency */
    position: relative;                /* Allows absolute positioning of progress overlay */
    overflow: hidden;                  /* Clips waveform drawing within bounds */
    border: 1px solid var(--border-color); /* Subtle border for definition */
    min-height: 40px;                  /* Minimum height ensures visibility */
}

/* WAVEFORM PROGRESS INDICATOR - Shows current playback position */
/* Controls: Overlay that shows how much of the song has played */
.waveform-progress {
    position: absolute;                 /* Overlays on top of waveform */
    top: 0;                            /* Aligned to top of waveform */
    left: 0;                           /* Starts from left edge */
    height: 100%;                      /* Full height of waveform display */
    background: var(--accent-color);   /* Accent color for progress indicator */
    opacity: 0.3;                      /* Semi-transparent to see waveform underneath */
    transition: width 0.1s ease;       /* Smooth animation as song progresses */
}

/* ───────────────────────────────────────
   ADVANCED DUAL-CHANNEL WAVEFORM DISPLAY
 ─────────────────────────────────────── */

/* DUAL WAVEFORM CONTAINER - Shows separate waveforms for left/right channels */
/* Controls: Vertical stacking of stereo audio channels */
.dual-waveform {
    display: flex;              /* Flexible layout for channel separation */
    flex-direction: column;     /* Stack left channel above right channel */
    height: 100%;              /* Full container height */
    position: relative;         /* Reference point for child positioning */
}

/* INDIVIDUAL WAVEFORM CHANNEL - Container for one audio channel (L or R) */
/* Controls: Layout and minimum size for each stereo channel */
.waveform-channel {
    flex: 1;                    /* Equal height for left and right channels */
    display: flex;              /* Layout for waveform bars */
    position: relative;         /* Reference for labels and overlays */
    min-height: 20px;          /* Minimum height ensures visibility */
}

/* WAVEFORM BAR CONTAINER - Houses the individual amplitude bars */
/* Controls: Layout, alignment, and spacing of waveform samples */
.channel-waveform {
    display: flex;              /* Horizontal layout for amplitude bars */
    align-items: end;          /* Align bars to bottom (like traditional waveform) */
    width: 100%;               /* Full width of channel container */
    gap: 1px;                  /* Tiny space between each amplitude bar */
    padding: 2px;              /* Small padding around waveform bars */
}

/* INDIVIDUAL WAVEFORM SAMPLE BAR - Each vertical bar representing audio amplitude */
/* Controls: Color, size, animation of individual waveform elements */
.waveform-sample {
    flex: 1;                           /* Equal width distribution across time */
    background: var(--success-color);  /* Success color (usually green) for waveform */
    border-radius: 1px;                /* Slight rounding for smoother appearance */
    min-width: 2px;                    /* Minimum width ensures visibility */
    min-height: 2px;                   /* Minimum height ensures visibility */
    transition: height 0.05s ease;     /* Smooth animation as audio levels change */
}

.channel-label-waveform {
    position: absolute;
    left: 4px;
    top: 4px;
    font-size: 10px;                    /* ADJUST: Channel label font size */
    font-weight: bold;
    color: var(--text-primary);
    background: rgba(0,0,0,0.5);
    padding: 2px 4px;
    border-radius: 2px;
}

.waveform-center-line {
    height: 1px;                        /* ADJUST: Center line thickness */
    background: var(--border-color);    /* ADJUST: Center line color */
    opacity: 0.5;
}

/* VU Meter Components */
.vu-scale {
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column-reverse;     /* Bottom to top */
}

.vu-segment {
    flex: 1;
    margin: 1px 0;
    border-radius: 1px;
    transition: background-color 0.1s ease;
}

.vu-segment.active {
    opacity: 1;
}

.vu-label {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    padding: 2px;
    font-size: 9px;                     /* ADJUST: VU label font size */
}

.channel-label {
    font-weight: bold;
    color: var(--text-primary);
}

.db-readout {
    color: var(--text-secondary);
    font-family: monospace;
}

/* Mini Spectrum Analyzer */
.mini-spectrum {
    display: flex;
    align-items: end;
    gap: 1px;
    height: 20px;                       /* ADJUST: Mini spectrum height */
    padding: 2px;
    background: rgba(0,0,0,0.3);
}

.mini-spectrum-bar {
    flex: 1;
    border-radius: 1px;
    min-width: 2px;
    min-height: 1px;
    transition: height 0.05s ease;
}

/* ===============================================
   EQ WIDGETS A/B (SHARED STYLING)
   =============================================== */

[data-widget-id="eqA"],
[data-widget-id="eqB"] {
    border-left: 4px solid var(--success-color); /* ADJUST: EQ accent border color */
    min-width: 200px;                   /* ADJUST: Minimum EQ width */
    min-height: 250px;                  /* ADJUST: Minimum EQ height */
}

.eq-controls {
    display: flex;
    flex-direction: column;
    gap: 12px;                          /* ADJUST: Space between EQ bands */
    height: 100%;
    justify-content: space-around;
}

.eq-band {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}

.eq-label {
    font-size: 12px;                    /* ADJUST: EQ band label font size */
    font-weight: bold;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.eq-knob {
    width: 50px;                        /* ADJUST: EQ knob size */
    height: 50px;
    border: 3px solid var(--border-color);
    border-radius: 50%;
    background: radial-gradient(circle, var(--secondary-bg) 0%, #1a1a1a 100%);
    cursor: pointer;
    position: relative;
    transition: all 0.2s ease;
}

.eq-knob:hover {
    border-color: var(--success-color);
    transform: scale(1.1);              /* ADJUST: EQ knob hover scale */
}

.eq-knob-indicator {
    position: absolute;
    top: 5px;
    left: 50%;
    transform: translateX(-50%);
    width: 3px;                         /* ADJUST: EQ knob indicator width */
    height: 15px;                       /* ADJUST: EQ knob indicator length */
    background: var(--success-color);
    border-radius: 2px;
    transform-origin: bottom center;
}

.eq-value {
    font-size: 11px;                    /* ADJUST: EQ value display font size */
    color: var(--text-primary);
    background: rgba(0, 0, 0, 0.5);
    padding: 2px 6px;
    border-radius: 10px;
    min-width: 30px;
    text-align: center;
}

/* ===============================================
   LIBRARY WIDGETS A/B (SHARED STYLING)
   =============================================== */

[data-widget-id="libraryA"],
[data-widget-id="libraryB"] {
    border-left: 4px solid var(--warning-color); /* ADJUST: Library accent border color */
    min-width: 250px;                   /* ADJUST: Minimum library width */
    min-height: 400px;                  /* ADJUST: Minimum library height */
}

.library-content {
    display: flex;
    flex-direction: column;
    height: 100%;
    gap: 8px;
}

.library-search {
    padding: 8px;
    background: var(--secondary-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;                 /* ADJUST: Search box corner roundness */
    color: var(--text-primary);
    font-size: 14px;                    /* ADJUST: Search box font size */
    outline: none;
}

.library-search:focus {
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px rgba(255, 107, 53, 0.2); /* ADJUST: Search focus color */
}

.library-list {
    flex: 1;
    overflow-y: auto;
    padding-right: 4px;
}

.track-item {
    padding: 8px;                       /* ADJUST: Track item padding */
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.05);
    margin-bottom: 4px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid transparent;
}

.track-item:hover {
    background: rgba(255, 107, 53, 0.1); /* ADJUST: Track hover background */
    border-color: var(--accent-color);
    transform: translateX(4px);         /* ADJUST: Track hover slide effect */
}

.track-item-title {
    font-size: 14px;                    /* ADJUST: Track title font size */
    font-weight: bold;
    color: var(--text-primary);
    margin-bottom: 2px;
}

.track-item-artist {
    font-size: 12px;                    /* ADJUST: Track artist font size */
    color: var(--text-secondary);
    margin-bottom: 2px;
}

.track-item-info {
    display: flex;
    justify-content: space-between;
    font-size: 11px;                    /* ADJUST: Track info font size */
    color: var(--text-secondary);
}

/* ===============================================
   MIXER WIDGET (CENTRAL CONTROLS)
   =============================================== */

[data-widget-id="mixer"] {
    border: 2px solid var(--accent-color); /* ADJUST: Mixer border prominence */
    background: linear-gradient(145deg, var(--secondary-bg) 0%, #1a1a1a 100%);
    min-width: 600px;                   /* ADJUST: Minimum mixer width */
    min-height: 400px;                  /* ADJUST: Minimum mixer height */
}

.mixer-controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); /* ADJUST: Mixer column sizing */
    gap: 16px;                          /* ADJUST: Space between mixer sections */
    height: 100%;
    padding: 16px;
}

.mixer-channel {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;                          /* ADJUST: Space between channel controls */
    background: rgba(0, 0, 0, 0.3);
    padding: 12px;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

.channel-label {
    font-size: 12px;                    /* ADJUST: Channel label font size */
    font-weight: bold;
    color: var(--accent-color);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
}

/* Vertical Sliders - Universal for mixer */
.volume-slider,
.gain-slider,
.crossfader-slider,
.pitch-slider,
.eq-slider {
    -webkit-appearance: slider-vertical;
    width: 20px;                        /* ADJUST: Slider width */
    height: 120px;                      /* ADJUST: Slider height */
    background: linear-gradient(to top, var(--secondary-bg) 0%, #4a5568 100%);
    outline: none;
    border-radius: 10px;
    cursor: pointer;
    writing-mode: vertical-lr;
    direction: rtl;
}

.volume-slider::-webkit-slider-thumb,
.gain-slider::-webkit-slider-thumb,
.pitch-slider::-webkit-slider-thumb,
.eq-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;                        /* ADJUST: Slider thumb size */
    height: 16px;
    border-radius: 50%;
    background: var(--success-color);   /* ADJUST: Slider thumb color */
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    border: 2px solid #ffffff;
    transition: all 0.2s ease;
}

.volume-slider::-webkit-slider-thumb:hover,
.gain-slider::-webkit-slider-thumb:hover,
.pitch-slider::-webkit-slider-thumb:hover,
.eq-slider::-webkit-slider-thumb:hover {
    background: var(--accent-color);    /* ADJUST: Slider thumb hover color */
    transform: scale(1.2);              /* ADJUST: Slider thumb hover scale */
}

/* Enhanced Vertical Volume Slider */
.volume-slider.vertical {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 150px;
    background: linear-gradient(to top, 
        #1a1a2e 0%, 
        #16213e 30%,
        #0f3460 60%,
        #533483 100%
    );
    outline: none;
    border-radius: 10px;
    cursor: pointer !important;
    writing-mode: vertical-lr;
    direction: rtl;
    margin: 10px auto;
    box-shadow: 
        inset 0 2px 4px rgba(0, 0, 0, 0.3),
        0 0 8px rgba(83, 52, 131, 0.3);
    pointer-events: auto !important;
    z-index: 1002 !important;
    position: relative;
}

.volume-slider.vertical::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: linear-gradient(145deg, #00ff88, #00cc6a);
    cursor: pointer !important;
    box-shadow: 
        0 2px 6px rgba(0, 0, 0, 0.4),
        0 0 12px rgba(0, 255, 136, 0.5);
    border: 2px solid #ffffff;
    transition: all 0.2s ease;
    pointer-events: auto !important;
    z-index: 1003 !important;
    position: relative;
}

.volume-slider.vertical::-webkit-slider-thumb:hover {
    background: linear-gradient(145deg, #00ffaa, #00ff88);
    transform: scale(1.2);
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.6),
        0 0 16px rgba(0, 255, 136, 0.8);
}

/* Volume Control Container for Vertical Layout */
.volume-control.vertical {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    padding: 10px;
}

.volume-value {
    margin-top: 10px;
    font-size: 0.8em;
    color: var(--text-secondary);
    background: var(--primary-bg);
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid var(--border-color);
    min-width: 30px;
    text-align: center;
}

/* Crossfader - Special horizontal styling */
.crossfader-slider {
    -webkit-appearance: none;
    width: 180px;                       /* ADJUST: Crossfader width */
    height: 12px;                       /* ADJUST: Crossfader thickness - increased */
    background: linear-gradient(to right, 
        #00ff44 0%,                     /* A side - electric green */
        #66ff00 10%,                    /* Lime green */
        #ffff00 25%,                    /* Yellow */
        #ff8800 40%,                    /* Orange */
        #333333 50%,                    /* Center neutral */
        #ff4400 60%,                    /* Red-orange */
        #ff0088 75%,                    /* Hot pink */
        #cc00ff 90%,                    /* Purple */
        #8800ff 100%);                  /* B side - electric purple */
    border-radius: 6px;
    outline: none;
    cursor: pointer;
    writing-mode: initial;
    direction: initial;
    box-shadow: 
        0 3px 6px rgba(0, 0, 0, 0.4),
        0 0 12px rgba(255, 102, 0, 0.5),
        inset 0 1px 2px rgba(255, 255, 255, 0.2);
}

.crossfader-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 28px;                        /* ADJUST: Crossfader thumb size - increased */
    height: 28px;
    border-radius: 50%;
    background: linear-gradient(145deg, #ffffff, #f0f0f0);
    border: 3px solid #000000;
    cursor: pointer;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.5),
        0 0 12px rgba(255, 255, 255, 0.7),
        inset 0 1px 2px rgba(255, 255, 255, 0.8);
    transition: all 0.2s ease;
}

.crossfader-slider::-webkit-slider-thumb:hover {
    background: linear-gradient(145deg, #00ddff, #0099ff);
    border-color: #00ddff;
    transform: scale(1.3);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.6),
        0 0 20px rgba(0, 221, 255, 1.0),
        inset 0 1px 2px rgba(255, 255, 255, 0.9);
}

/* Reverb Control Styling */
.reverb-control input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 3px;
    background: var(--secondary-bg);
    outline: none;
    opacity: 0.8;
    transition: opacity 0.3s;
    cursor: pointer;
}

.reverb-control input[type="range"]:hover {
    opacity: 1;
}

.reverb-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--warning-color);
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

/* Filter Control Styling */
.filter-control input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 3px;
    background: var(--secondary-bg);
    outline: none;
    opacity: 0.8;
    transition: opacity 0.3s;
    cursor: pointer;
}

.filter-control input[type="range"]:hover {
    opacity: 1;
}

.filter-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--error-color);
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

/* Mic Control Styling */
.mic-control input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 3px;
    background: var(--secondary-bg);
    outline: none;
    opacity: 0.8;
    transition: opacity 0.3s;
    cursor: pointer;
}

.mic-control input[type="range"]:hover {
    opacity: 1;
}

.mic-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--success-color);
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

/* Master Control Styling */
.master-control input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 5px;
    border-radius: 4px;
    background: var(--secondary-bg);
    outline: none;
    opacity: 0.8;
    transition: opacity 0.3s;
    margin: 5px 0;
    cursor: pointer;
}

.master-control input[type="range"]:hover {
    opacity: 1;
}

.master-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--accent-color);
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

.master-control label {
    font-size: 0.8em;
    color: var(--text-secondary);
    display: block;
    margin-bottom: 2px;
}

/* Cue Control Styling */
.cue-control input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    border-radius: 3px;
    background: var(--secondary-bg);
    outline: none;
    opacity: 0.8;
    transition: opacity 0.3s;
    margin: 3px 0;
    cursor: pointer;
}

.cue-control input[type="range"]:hover {
    opacity: 1;
}

.cue-control input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--info-color);
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

.cue-control label {
    font-size: 0.8em;
    color: var(--text-secondary);
    display: block;
    margin-bottom: 2px;
}

/* Fine-tune and specialized sliders */
.fine-tune-slider {
    -webkit-appearance: none;
    width: 80px;                        /* ADJUST: Fine-tune slider width */
    height: 4px;                        /* ADJUST: Fine-tune slider thickness */
    background: var(--secondary-bg);
    outline: none;
    border-radius: 2px;
    cursor: pointer;
}

.fine-tune-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 12px;                        /* ADJUST: Fine-tune thumb size */
    height: 12px;
    border-radius: 50%;
    background: var(--warning-color);   /* ADJUST: Fine-tune thumb color */
    cursor: pointer;
    border: 1px solid #ffffff;
    transition: all 0.2s ease;
}

.fine-tune-slider::-webkit-slider-thumb:hover {
    background: var(--accent-color);
    transform: scale(1.3);
}

/* EQ Slider specific styling */
.eq-slider {
    height: 80px;                       /* ADJUST: EQ slider height - shorter than others */
    width: 15px;                        /* ADJUST: EQ slider width - thinner */
}

.eq-slider.bypassed {
    opacity: 0.4;                       /* ADJUST: EQ bypass opacity */
    pointer-events: none;
}

.eq-slider::-webkit-slider-thumb {
    background: var(--accent-color);    /* ADJUST: EQ thumb color - different from others */
    width: 14px;                        /* ADJUST: EQ thumb size */
    height: 14px;
}

/* ===============================================
   SOUND SNIPPETS WIDGET
   =============================================== */

[data-widget-id="snippets"] {
    border-left: 4px solid var(--error-color); /* ADJUST: Snippets accent border color */
    min-width: 400px;                   /* ADJUST: Minimum snippets width */
    min-height: 150px;                  /* ADJUST: Minimum snippets height */
}

.snippets-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* ADJUST: Snippet pad sizing */
    gap: 8px;                           /* ADJUST: Space between snippet pads */
    height: 100%;
    padding: 8px;
}

.snippet-pad {
    background: var(--secondary-bg);
    border: 2px solid var(--border-color);
    border-radius: 8px;                 /* ADJUST: Snippet pad corner roundness */
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;                    /* ADJUST: Snippet pad font size */
    font-weight: bold;
    color: var(--text-secondary);
    min-height: 60px;                   /* ADJUST: Snippet pad height */
}

.snippet-pad:hover {
    background: var(--error-color);
    border-color: var(--error-color);
    color: white;
    transform: scale(1.05);             /* ADJUST: Snippet pad hover scale */
}

.snippet-pad.active {
    background: var(--accent-color);
    border-color: var(--accent-color);
    color: white;
    animation: pulse 1s infinite;       /* ADJUST: Remove animation by deleting this line */
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* ===============================================
   A/B MIRRORING ENFORCEMENT
   =============================================== */

/* Ensure A/B pairs maintain identical dimensions */
[data-widget-id="deckA"], [data-widget-id="deckB"] {
    min-width: 300px;                   /* ADJUST: Deck minimum width */
    min-height: 350px;                  /* ADJUST: Deck minimum height */
}

[data-widget-id="eqA"], [data-widget-id="eqB"] {
    min-width: 200px;                   /* ADJUST: EQ minimum width */
    min-height: 250px;                  /* ADJUST: EQ minimum height */
}

[data-widget-id="libraryA"], [data-widget-id="libraryB"] {
    min-width: 250px;                   /* ADJUST: Library minimum width */
    min-height: 400px;                  /* ADJUST: Library minimum height */
}

/* Visual sync indicators */
.widget-pair-sync {
    box-sizing: border-box;
    transition: width 0.1s ease, height 0.1s ease; /* ADJUST: Sync animation speed */
}

/* ===============================================
   RESPONSIVE ADJUSTMENTS
   =============================================== */

/* Small widgets - adjust font sizes */
.draggable-widget[style*="width: 2"] .widget-content,
.draggable-widget[style*="width: 3"] .widget-content {
    font-size: 11px;                    /* ADJUST: Small widget font size */
}

/* Large widgets - adjust font sizes */
.draggable-widget[style*="width: 7"] .widget-content,
.draggable-widget[style*="width: 8"] .widget-content,
.draggable-widget[style*="width: 9"] .widget-content {
    font-size: 16px;                    /* ADJUST: Large widget font size */
}

/* ===============================================
   KNOB CONTROLS
   =============================================== */

/* Knob Container */
.knob-container {
    position: relative;
    width: 50px;
    height: 65px;
    margin: 2px auto;
    display: flex;
    align-items: flex-start;
    justify-content: center;
}

/* Base Knob Styling */
.knob-control {
    position: relative;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: linear-gradient(145deg, var(--secondary-bg), var(--primary-bg));
    border: 2px solid var(--border-color);
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 2px 4px rgba(255, 255, 255, 0.1);
}

.knob-control:hover {
    border-color: var(--accent-color);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.2);
}

/* Knob Indicator Line */
.knob-control::before {
    content: '';
    position: absolute;
    top: 6px;
    left: 50%;
    width: 2px;
    height: 18px;
    background: var(--accent-color);
    border-radius: 1px;
    transform-origin: center bottom;
    transform: translateX(-50%) rotate(var(--knob-rotation, -135deg));
    transition: transform 0.1s ease;
}

/* Hidden range input for knob functionality */
.knob-control input[type="range"] {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    border-radius: 50%;
}

/* Gain Knobs */
.gain-knob {
    background: linear-gradient(145deg, #4a5568, #2d3748);
    border-color: var(--warning-color);
}

.gain-knob:hover {
    border-color: var(--warning-color);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(255, 193, 7, 0.3);
}

.gain-knob::before {
    background: var(--warning-color);
}

/* Reverb Knobs */
.reverb-knob {
    background: linear-gradient(145deg, #553c9a, #44337a);
    border-color: var(--info-color);
}

.reverb-knob:hover {
    border-color: var(--info-color);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(0, 123, 255, 0.3);
}

.reverb-knob::before {
    background: var(--info-color);
}

/* Filter Knobs */
.filter-knob {
    background: linear-gradient(145deg, #9a3c5b, #7a2d47);
    border-color: var(--error-color);
}

.filter-knob:hover {
    border-color: var(--error-color);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(220, 53, 69, 0.3);
}

.filter-knob::before {
    background: var(--error-color);
}

/* Knob Value Display */
.knob-value {
    position: absolute;
    bottom: -18px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.6em;
    color: var(--text-secondary);
    background: var(--primary-bg);
    padding: 1px 4px;
    border-radius: 6px;
    border: 1px solid var(--border-color);
    min-width: 25px;
    text-align: center;
}

/* Hide scrollbars on knob widgets */
.gain-widget,
.mixer-sub-widget {
    overflow: hidden !important;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

.scrollbar-hide {
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* Internet Explorer 10+ */
}

.gain-widget::-webkit-scrollbar,
.mixer-sub-widget::-webkit-scrollbar,
.scrollbar-hide::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
}

.gain-widget > div,
.mixer-sub-widget > div {
    overflow: hidden !important;
}

/* Ensure knob containers don't show scrollbars */
.knob-container {
    overflow: hidden;
}

/* Enhanced Control Button Styling */
.ab-btn {
    padding: 6px 12px;
    border: 2px solid #333333;
    border-radius: 6px;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    color: #cccccc;
    font-weight: bold;
    font-size: 0.8em;
    cursor: pointer;
    transition: all 0.2s ease;
    margin: 2px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.ab-btn.active {
    background: linear-gradient(145deg, #0066ff, #0044cc);
    color: #ffffff;
    border-color: #0066ff;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.4),
        0 0 12px rgba(0, 102, 255, 0.6);
}

.ab-btn:hover {
    background: linear-gradient(145deg, #0088ff, #0066dd);
    border-color: #0088ff;
    transform: translateY(-1px);
    box-shadow: 
        0 6px 10px rgba(0, 0, 0, 0.5),
        0 0 16px rgba(0, 136, 255, 0.8);
}

.setting-btn {
    padding: 4px 8px;
    border: 1px solid #555555;
    border-radius: 4px;
    background: linear-gradient(145deg, #333333, #222222);
    color: #cccccc;
    font-size: 0.7em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    margin: 1px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.setting-btn:hover {
    background: linear-gradient(145deg, #ff6600, #cc5500);
    color: #ffffff;
    border-color: #ff6600;
    transform: translateY(-1px);
    box-shadow: 
        0 3px 6px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(255, 102, 0, 0.6);
}

.setting-btn.active {
    background: linear-gradient(145deg, #00ff88, #00cc6a);
    color: #000000;
    border-color: #00ff88;
    box-shadow: 
        0 3px 6px rgba(0, 0, 0, 0.4),
        0 0 10px rgba(0, 255, 136, 0.8);
}

/* Cue Point Buttons */
.cue-btn {
    padding: 6px;
    border: 2px solid #444444;
    border-radius: 4px;
    background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
    color: #888888;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    margin: 1px;
    min-width: 30px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.cue-btn:hover {
    background: linear-gradient(145deg, #ffaa00, #ff8800);
    color: #000000;
    border-color: #ffaa00;
    transform: translateY(-1px);
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.4),
        0 0 12px rgba(255, 170, 0, 0.8);
}

.cue-btn.active {
    background: linear-gradient(145deg, #ff4400, #dd3300);
    color: #ffffff;
    border-color: #ff4400;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.4),
        0 0 12px rgba(255, 68, 0, 0.8);
}

/* Volume Widget Positioning */
.volume-widget {
    z-index: 1000 !important;
    position: absolute !important;  /* Fixed: was relative, causing layout interference */
    background: rgba(30, 30, 30, 0.95);
    border: 2px solid rgba(0, 255, 136, 0.3);
    border-radius: 8px;
    backdrop-filter: blur(5px);
}

.volume-widget:hover {
    border-color: rgba(0, 255, 136, 0.6);
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.5),
        0 0 16px rgba(0, 255, 136, 0.4);
}

.gain-widget {
    z-index: 900 !important;
    position: relative;
}

.mixer-sub-widget {
    z-index: 800 !important;
    position: relative;
}

/* ===============================================
   UTILITY CLASSES
   =============================================== */

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.force-symmetry {
    /* Container class to enable forced symmetry modes if needed */
}

/* ===============================================
   END OF ORGANIZED CSS
   =============================================== */